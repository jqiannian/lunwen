# 部署文档模板

## 元数据
| 字段 | 内容 |
| --- | --- |
| 文档版本 | TODO |
| 发布编号 | TODO: REL-YYYY-N |
| 运维负责人 | TODO |
| 状态 | 草稿 / 评审中 / 待发布 / 已发布 |
| 最后更新时间 | TODO |
| 关联需求 | docs/requirements/ITER-YYYY-N.md |
| 关联设计 | docs/design/ITER-YYYY-N.md |
| 关联测试 | docs/testing/ITER-YYYY-N.md |

## 1. 生产环境架构
- 拓扑图（服务、网络、依赖）
- 容量规划
- 安全分区与访问控制（含堡垒机）

## 2. 数据库脚本
| 脚本 | 位置 | 适用环境 | 执行顺序 | 回滚脚本 |
| --- | --- | --- | --- | --- |

- 执行前置条件、验收点

## 3. 生产环境配置
- 配置项清单（仅列键名）
- 配置来源（环境变量、配置中心）
- 变更审批记录

## 4. 部署脚本
- 自动化脚本路径（如 Ansible、Shell、CI/CD pipeline）
- 环境还原脚本
- 依赖命令/工具版本

## 5. 部署手册
1. 发布窗口 & 负责人
2. 发布前检查列表
3. 步骤（含验证点与回滚触发条件）
4. 发布后监控

## 6. 回滚与应急
- 回滚策略与脚本
- 数据回退方案
- 灰度/双写策略

## 7. 发布记录
| 日期 | 环境 | 版本 | 发布人 | 结果 | 备注 |
| --- | --- | --- | --- | --- | --- |

## Checklist
- [ ] 架构/拓扑图已更新
- [ ] 数据库脚本含回滚方案
- [ ] 配置项来源合法且无敏感信息泄露
- [ ] 部署脚本已在预生产验证
- [ ] 发布/回滚步骤经过双人复核
- [ ] 发布记录、监控、告警均已配置
