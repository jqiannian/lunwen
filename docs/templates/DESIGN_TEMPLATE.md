# 设计文档模板

## 元数据
| 字段 | 内容 |
| --- | --- |
| 文档版本 | TODO: v0.1 |
| 迭代编号 | TODO: ITER-YYYY-N |
| 架构负责人 | TODO |
| 状态 | 草稿 / 评审中 / 已生效 |
| 最后更新时间 | TODO: YYYY-MM-DD |
| 关联需求 | docs/requirements/ITER-YYYY-N.md |
| 关联开发 | docs/development/ITER-YYYY-N.md |
| 关联测试 | docs/testing/ITER-YYYY-N.md |
| 审批记录 | TODO |

## 1. 系统设计
### 1.1 目标
- TODO: 描述设计目标、约束、成功指标。

### 1.2 架构概览
- ASCII 图 / mermaid 图链接
- 服务与模块说明
- 数据流 & 控制流描述

## 2. 概要设计
| 模块 | 职责 | 接口输入/输出 | 数据存储 | 依赖 |
| --- | --- | --- | --- | --- |
| Module-A | TODO | TODO | TODO | TODO |

## 3. 详细设计
### 3.1 接口设计
| 接口 | Method/Path | Request | Response | 权限 | 备注 |
| --- | --- | --- | --- | --- | --- |

### 3.2 业务流程
- 使用序列图或步骤化描述。

### 3.3 组件与类设计
- 关键类/组件说明、模式（如策略、工厂）。
- 错误处理与监控埋点设计。

## 4. 数据库设计
- ER 图 / mermaid 图
- 表结构定义（表名、字段、类型、索引、说明）
- 迁移脚本引用路径（如 `db/migrations/ITER-YYYY-N.sql`）
- 数据合规与脱敏策略

## 5. 安全与合规设计
- 权限模型
- 加密策略（静态/传输）
- 审计日志方案

## 6. 性能与容量规划
- 目标指标（QPS、延迟、并发用户）
- 压测方案（脚本位置、环境还原脚本）
- 扩容策略

## 7. 可运维性设计
- 监控指标、告警阈值
- 日志规范
- Feature Flag / 灰度策略

## 8. 风险与缓解
| 风险编号 | 描述 | 影响 | 等级 | 缓解措施 | 责任人 |
| --- | --- | --- | --- | --- | --- |

## 9. 评审记录
| 日期 | 评审人 | 结论 | 待办 |
| --- | --- | --- | --- |

## Checklist
- [ ] 所有业务需求均映射到设计章节
- [ ] 包含系统/概要/详细/数据库设计
- [ ] 给出监控、日志、权限、安全策略
- [ ] 提供环境还原与压测脚本链接
- [ ] 通过架构评审并记录纪要
