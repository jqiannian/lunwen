# 开发环境：在 environment.yml 的运行依赖基础上，增加质量与测试工具
#
# 创建：conda env create -f environment-dev.yml
# 激活：conda activate traffic-rules-dev

name: traffic-rules-dev
channels:
  - conda-forge

dependencies:
  - python=3.12

  # 运行依赖（与 environment.yml 保持一致）
  - numpy>=1.26,<2.0
  - pandas>=2.2,<3.0
  - scipy>=1.13,<2.0
  - pytorch>=2.4,<2.5
  - torchvision>=0.19,<0.20
  - torchaudio>=2.4,<2.5
  - networkx>=3.2,<4.0
  - pydantic>=2.7,<3.0
  - pyyaml>=6.0,<7.0
  - matplotlib>=3.8,<4.0
  - seaborn>=0.13,<0.14
  - rich>=13.7,<14.0
  - tqdm>=4.66,<5.0
  - typer>=0.12,<1.0
  - prometheus_client>=0.20,<1.0
  - structlog>=24.1,<25.0
  - opencv>=4.9,<5.0

  # 测试
  - pytest>=8.0,<9.0
  - pytest-cov>=5.0,<6.0
  - pytest-xdist>=3.5,<4.0

  # 代码质量
  - black>=24.0,<25.0
  - isort>=5.13,<6.0
  - ruff>=0.6,<1.0
  - mypy>=1.11,<2.0

  # 安全
  - bandit>=1.7,<2.0

  - pip
  - pip:
      - pip-audit>=2.7,<3.0
